{% extends 'base.html.twig' %}

{% block title %}PROSMobile - Liste des promotions{% endblock %}

{% block body %}
	{# tree #}
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb bg-white rounded-0">
			<li class="breadcrumb-item">
				<a href="{{ path('admin_index') }}">
					Dashboard
				</a>
			</li>
			<li class="breadcrumb-item active" aria-current="page">
				Gestion des promotions
			</li>
		</ol>
	</nav>
	{# title #}
	<h1>Liste des promotions</h1>
	{# button #}
	<div class="container my-5">
		<div class="row d-flex justify-content-start">
			{# add button #}
			<div>
				<a href="{{ path('promo_new') }}">
					<button class="add-button" title="Ajouter">
						<i data-fa-symbol="add" class="fas fa-plus"></i>
						<svg class="icon-md">
							<use xlink:href="#add"></use>
						</svg>
					</button>
				</a>
			</div>
		</div>
	</div>
	{# discount list #}
	<div class="container">
		<div class="row">
			{% for promo in promos %}
				{% if promo.photo is empty %}
					{% set photo ='' %}
				{% else %}
					{% set photo = promo.photo %}
				{% endif %}
				<div class="col-lg">
					<div class="media">
						<img src="{{ photo }}" class="align-self-start img-thumbnail mr-5" style="width:800px; height:200px;" alt="{{ promo.nom }}">
						<div class="media-body">
							<h5 class="my-4">{{ promo.nom }}</h5>
							<p>
								du
								{{ promo.debut ? promo.debut|date('d/m/Y') : '' }}
								jusqu'au
								{{ promo.fin ? promo.fin|date('d/m/Y') : '' }}
							</p>
							<p>
								{{ promo.pourcentage }}
								%
							</p>
							{# button #}
							<div class="container my-5">
								<div class="row d-flex justify-content-center">
									{# save button #}
									<div>
										<a href="{{ path('promo_edit', {'id': promo.id}) }}">
											<button class="edit-button" title="Modifier">
												<i data-fa-symbol="edit" class="fas fa-pen"></i>
												<svg class="icon-md">
													<use xlink:href="#edit"></use>
												</svg>
											</button>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				{# empty #}
				<div>
					Aucune promotion trouv√©e
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
