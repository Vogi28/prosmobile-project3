{% extends 'base.html.twig' %}

{% block title %}PROSMOBILE{% endblock %}

{% block body %}

    <!-- tree -->
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb bg-white rounded-0">
        {% if is_granted('ROLE_PRO') %}
			<li class="breadcrumb-item">
				<a href="{{ path('pro_profile', {'id' : app.user.id}) }}">
					Profile
				</a>
			</li>
            <li class="breadcrumb-item">
				<a href="{{ path('commande_index', {'id' : app.user.pro.id}) }}">
					Commandes
				</a>
			</li>
        {% elseif is_granted('ROLE_ADMIN') %}
			<li class="breadcrumb-item">
				<a href="{{ path('admin_index') }}">
					Dashboard
				</a>
			</li>
			<li class="breadcrumb-item">
				<a href="{{ path('admin_commande_index') }}">
					Commandes
				</a>
			</li>
        {% endif %}
			<li class="breadcrumb-item active" aria-current="page">
				Detail commande
			</li>
		</ol>
	</nav>
    
    <h1 class="text-center">Details commande</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Article ID</th>
                <th>Article name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Discount</th>
                <th>Price with Taxes</th>
                <th>Actions</th>
            </tr>
            {% for detail in details %}
                <tr>
                    <td><a href="#">{{ detail.article }}</a></td>
                    <td>{{ detail.nomArt }}</td>
                    <td>{{ detail.quantity }}</td>
                    <td>{{ detail.prixHT }}</td>
                    <td>{{ detail.remise }}</td>
                    <td>{{ detail.total }}</td>
                    <td>
                    {% if is_granted('ROLE_PRO') %}
                            <a href="{{ path('commande_edit', {'id': commande_pro.id}) }}">edit</a>
                    {% elseif is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('admin_commande_edit', {'id': commande_pro.id, 
                        'role': 'pro'}) }}">edit</a>
                    {% endif %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% if details is not empty %}
        {{ include('commande/commande_pro/_delete_form.html.twig') }}
    {% endif %}
{% endblock %}
